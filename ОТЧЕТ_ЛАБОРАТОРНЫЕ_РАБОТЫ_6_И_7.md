# –û—Ç—á–µ—Ç –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–º —Ä–∞–±–æ—Ç–∞–º ‚Ññ6 –∏ ‚Ññ7
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –æ—Å–Ω–æ–≤—ã React

---

## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ6 ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (Frontend)

### –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å React, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π

–ë—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Node.js –∏ npm. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥:
- `node --version`
- `npm --version`

#### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Visual Studio Code –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Visual Studio Code —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏:
- **Reactjs code snippets** ‚Äî –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **ESLint** ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- **Prettier** ‚Äî –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ESLint —á–µ—Ä–µ–∑ Next.js (—Ñ–∞–π–ª `package.json`):

```12:32:package.json
  "devDependencies": {
    "eslint": "^8.0.0",
    "eslint-config-next": "^14.0.0"
  }
```

#### 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ React

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Next.js** (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ React) –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Vite. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- Server-Side Rendering (SSR)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–±–æ—Ä–∫—É
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é
- Hot Reload –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `package.json`:

```1:11:package.json
{
  "name": "car-management-frontend",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "type-check": "tsc --noEmit"
  },
```

#### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ Hot Reload

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π `npm run dev` –∏ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:3000` (Next.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 3000 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

Hot Reload —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –≠—Ç–æ –±—ã–ª–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

```72:298:pages/index.tsx
  return (
    <>
      <Head>
        <title>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏</title>
        <meta name="description" content="–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏ –∏ –∏—Ö –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏" />
      </Head>

      <div className="min-h-screen bg-gray-50">
        {/* Header */}
        <header className="bg-white shadow-sm border-b border-gray-200">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div className="flex justify-between items-center py-6">
              <div className="flex items-center space-x-3">
                <div className="p-2 bg-primary-100 rounded-lg">
                  <span className="text-2xl">üöó</span>
                </div>
                <div>
                  <h1 className="text-2xl font-bold text-gray-900">
                    –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏
                  </h1>
                  <p className="text-sm text-gray-500">
                    {status?.app} v{status?.version}
                  </p>
                </div>
              </div>
```

#### 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ React Developer Tools

–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ React Developer Tools –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ React
- –ò–Ω—Å–ø–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å props –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ7 ‚Äî –û—Å–Ω–æ–≤—ã React

### –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã
–û—Å–≤–æ–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π React: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, JSX, props, —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Ö—É–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π.

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ç–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
- `pages/` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è)
- `components/` ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  - `ui/` ‚Äî –±–∞–∑–æ–≤—ã–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Button, Card, Input –∏ —Ç.–¥.)
  - `cars/` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏
  - `owners/` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏
  - `auth/` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `Button`:

```1:51:components/ui/Button.tsx
import React from 'react';
import { cn } from '@/lib/utils';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'danger' | 'outline' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  loading?: boolean;
  children: React.ReactNode;
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant = 'primary', size = 'md', loading = false, disabled, children, ...props }, ref) => {
    const baseClasses = 'inline-flex items-center justify-center font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none';
    
    const variants = {
      primary: 'bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500',
      secondary: 'bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500',
      danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',
      outline: 'border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-primary-500',
      ghost: 'text-gray-700 hover:bg-gray-100 focus:ring-gray-500',
    };

    const sizes = {
      sm: 'px-3 py-1.5 text-sm rounded-md',
      md: 'px-4 py-2 text-sm rounded-md',
      lg: 'px-6 py-3 text-base rounded-lg',
    };

    return (
      <button
        className={cn(
          baseClasses,
          variants[variant],
          sizes[size],
          className
        )}
        disabled={disabled || loading}
        ref={ref}
        {...props}
      >
        {loading && <span className="mr-2 h-4 w-4 animate-spin">‚ü≥</span>}
        {children}
      </button>
    );
  }
);

Button.displayName = 'Button';

export default Button;
```

#### 2. –ò–∑—É—á–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π ES6

**–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```14:20:pages/cars/simple.tsx
export default function SimpleCarsPage() {
  const { isAdmin } = useAuth();
  const queryClient = useQueryClient();
  const [showForm, setShowForm] = useState(false);
  const [editingCar, setEditingCar] = useState<CarWithOwner | null>(null);
  const [deletingCar, setDeletingCar] = useState<CarWithOwner | null>(null);
```

**–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è:**
–®–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –º–∞—Å—Å–∏–≤–æ–≤:

```20:20:pages/index.tsx
  const { isAuthenticated, user, isLoading, isAdmin } = useAuth();
```

**–®–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏:**
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫:

```229:230:pages/index.tsx
                          {carStats.most_expensive_car.brand} {carStats.most_expensive_car.model} - 
                          {new Intl.NumberFormat('ru-RU').format(carStats.most_expensive_car.price)} ‚Ç∏
```

#### 3. –û—Å–≤–æ–µ–Ω–∏–µ JSX –∏ —Å—Ç–∏–ª–µ–π

**JSX —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**
–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç JSX –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è UI. –ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `CarCard`:

```21:87:components/cars/CarCard.tsx
  return (
    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow">
      <div className="flex items-start justify-between">
        <div className="flex-1">
          <div className="flex items-center space-x-3 mb-3">
            <div className="p-2 bg-primary-100 rounded-lg">
              <span className="text-2xl">üöó</span>
            </div>
            <div>
              <h3 className="text-lg font-semibold text-gray-900">
                {car.brand} {car.model}
              </h3>
              <p className="text-sm text-gray-500">
                {car.registrationNumber}
              </p>
            </div>
          </div>

          <div className="grid grid-cols-2 gap-4 mb-4">
            <div className="flex items-center space-x-2">
              <span className="text-sm">üìÖ</span>
              <span className="text-sm text-gray-600">{car.modelYear}</span>
            </div>
            <div className="flex items-center space-x-2">
              <span className="text-sm">üí∞</span>
              <span className="text-sm font-medium text-gray-900">
                {formatPrice(car.price)}
              </span>
            </div>
          </div>

          <div className="flex items-center justify-between">
            <div className="flex items-center space-x-2">
              <span className="text-sm">üë§</span>
              <span className="text-sm text-gray-600">
                {car.owner || '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω'}
              </span>
            </div>
            <Badge variant="primary" size="sm">
              {car.color}
            </Badge>
          </div>
        </div>

        {showActions && onEdit && onDelete && (
          <div className="flex space-x-2 ml-4">
            <Button
              variant="outline"
              size="sm"
              onClick={() => onEdit(car)}
              className="p-2"
            >
              ‚úèÔ∏è
            </Button>
            <Button
              variant="danger"
              size="sm"
              onClick={() => onDelete(car)}
              className="p-2"
            >
              üóëÔ∏è
            </Button>
          </div>
        )}
      </div>
    </div>
  );
```

**–°—Ç–∏–ª–∏ —á–µ—Ä–µ–∑ className:**
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Tailwind CSS –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏. –í—Å–µ –∫–ª–∞—Å—Å—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç `className`.

#### 4. –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ props

–ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `CarForm`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ props:

```9:25:components/cars/CarForm.tsx
interface CarFormProps {
  isOpen: boolean;
  onClose: () => void;
  onSubmit: (data: CarCreate | CarUpdate) => Promise<void>;
  car?: CarWithOwner;
  owners: OwnerResponse[];
  loading?: boolean;
}

const CarForm: React.FC<CarFormProps> = ({
  isOpen,
  onClose,
  onSubmit,
  car,
  owners,
  loading = false,
}) => {
  const isEdit = !!car;
  const [isSubmitting, setIsSubmitting] = useState(false);
```

#### 5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å –ø–æ–º–æ—â—å—é useState

**–ü—Ä–æ—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `useState` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

```14:19:pages/cars/simple.tsx
export default function SimpleCarsPage() {
  const { isAdmin } = useAuth();
  const queryClient = useQueryClient();
  const [showForm, setShowForm] = useState(false);
  const [editingCar, setEditingCar] = useState<CarWithOwner | null>(null);
  const [deletingCar, setDeletingCar] = useState<CarWithOwner | null>(null);
```

**–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã:**
–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `LoginForm` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ —Ñ–æ—Ä–º—ã:

```12:18:components/auth/LoginForm.tsx
const LoginForm: React.FC<LoginFormProps> = ({ onSuccess, onSwitchToRegister }) => {
  const { login, isLoading } = useAuth();
  const [formData, setFormData] = useState({
    username: '',
    password: '',
  });
  const [error, setError] = useState<string | null>(null);
```

#### 6. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å—á—ë—Ç—á–∏–∫–∞

–•–æ—Ç—è –≤ –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å—á—ë—Ç—á–∏–∫–∞, –∫–æ–Ω—Ü–µ–ø—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å –∫–Ω–æ–ø–∫–æ–π, —É–≤–µ–ª–∏—á–∏–≤–∞—é—â–µ–π –∑–Ω–∞—á–µ–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏ —á–µ—Ä–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `showForm`:

```117:125:pages/cars/simple.tsx
              {isAdmin && (
                <Button
                  onClick={() => setShowForm(true)}
                  className="flex items-center space-x-2"
                >
                  <span>‚ûï</span>
                  <span>–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å</span>
                </Button>
              )}
```

–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —Å—á—ë—Ç—á–∏–∫–∞ –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `onClick`.

#### 7. –û—Å–≤–æ–µ–Ω–∏–µ —Ö—É–∫–æ–≤ (useState, useEffect, useRef)

**useState:**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ø—Ä–∏–º–µ—Ä—ã –≤—ã—à–µ).

**useEffect:**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø—Ä–∏ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:

```27:31:pages/index.tsx
  // Redirect to login if not authenticated
  useEffect(() => {
    if (!isLoading && !isAuthenticated) {
      router.push('/login');
    }
  }, [isAuthenticated, isLoading, router]);
```

–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:

```17:26:contexts/AuthContext.tsx
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  useEffect(() => {
    const savedToken = localStorage.getItem('auth_token');
    if (savedToken) {
      setToken(savedToken);
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞
      checkAuth(savedToken);
    } else {
      setIsLoading(false);
    }
  }, []);
```

**–ö–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫:**
–í –ø—Ä–æ–µ–∫—Ç–µ —Å–æ–∑–¥–∞–Ω –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ `usePersistedState` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ localStorage:

```1:34:hooks/usePersistedState.ts
import { useState, useEffect } from 'react';

export function usePersistedState<T>(
  key: string,
  defaultValue: T
): [T, (value: T) => void] {
  const [state, setState] = useState<T>(() => {
    if (typeof window === 'undefined') {
      return defaultValue;
    }
    
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : defaultValue;
    } catch (error) {
      console.error(`Error reading localStorage key "${key}":`, error);
      return defaultValue;
    }
  });

  useEffect(() => {
    if (typeof window === 'undefined') {
      return;
    }
    
    try {
      window.localStorage.setItem(key, JSON.stringify(state));
    } catch (error) {
      console.error(`Error setting localStorage key "${key}":`, error);
    }
  }, [key, state]);

  return [state, setState];
}
```

#### 8. –ò–∑—É—á–µ–Ω–∏–µ Context API

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω `AuthContext` –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π:

```1:165:contexts/AuthContext.tsx
import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';
import { User, LoginRequest, RegisterRequest, LoginResponse, AuthContextType } from '@/types/auth';
import { apiClient } from '@/lib/api';

const AuthContext = createContext<AuthContextType | undefined>(undefined);

interface AuthProviderProps {
  children: ReactNode;
}

export const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {
  const [user, setUser] = useState<User | null>(null);
  const [token, setToken] = useState<string | null>(null);
  const [isLoading, setIsLoading] = useState(true);

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  useEffect(() => {
    const savedToken = localStorage.getItem('auth_token');
    if (savedToken) {
      setToken(savedToken);
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞
      checkAuth(savedToken);
    } else {
      setIsLoading(false);
    }
  }, []);

  const checkAuth = async (authToken: string) => {
    try {
      console.log('üîç checkAuth called with token:', authToken.substring(0, 20) + '...');
      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–∫–µ–Ω –≤ API –∫–ª–∏–µ–Ω—Ç–µ
      apiClient.setAuthToken(authToken);
      
      const userData = await apiClient.getCurrentUser(authToken);
      console.log('üîç User data received:', userData);
      setUser(userData);
      setToken(authToken);
    } catch (error) {
      console.error('Auth check failed:', error);
      logout();
    } finally {
      setIsLoading(false);
    }
  };

  const login = async (username: string, password: string): Promise<boolean> => {
    try {
      setIsLoading(true);
      const response: LoginResponse = await apiClient.login(username, password);
      
      if (response.access_token) {
        setToken(response.access_token);
        localStorage.setItem('auth_token', response.access_token);
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–∫–µ–Ω –≤ API –∫–ª–∏–µ–Ω—Ç–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        apiClient.setAuthToken(response.access_token);
        
        // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
        const userData = await apiClient.getCurrentUser(response.access_token);
        setUser(userData);
        
        return true;
      }
      return false;
    } catch (error) {
      console.error('Login failed:', error);
      return false;
    } finally {
      setIsLoading(false);
    }
  };

  const register = async (username: string, password: string, confirmPassword: string): Promise<boolean> => {
    try {
      setIsLoading(true);
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç
      if (password !== confirmPassword) {
        return false;
      }
      
      const userData = await apiClient.register(username, password, confirmPassword);
      
      if (userData) {
        // –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏–º –≤ —Å–∏—Å—Ç–µ–º—É
        return await login(username, password);
      }
      return false;
    } catch (error) {
      console.error('Registration failed:', error);
      return false;
    } finally {
      setIsLoading(false);
    }
  };

  const registerAdmin = async (username: string, password: string, confirmPassword: string): Promise<boolean> => {
    try {
      setIsLoading(true);
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç
      if (password !== confirmPassword) {
        return false;
      }
      
      const userData = await apiClient.registerAdmin(username, password, confirmPassword);
      
      if (userData) {
        // –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏–º –≤ —Å–∏—Å—Ç–µ–º—É
        return await login(username, password);
      }
      return false;
    } catch (error) {
      console.error('Admin registration failed:', error);
      return false;
    } finally {
      setIsLoading(false);
    }
  };

  const logout = () => {
    setUser(null);
    setToken(null);
    localStorage.removeItem('auth_token');
    // –û—á–∏—â–∞–µ–º —Ç–æ–∫–µ–Ω –∏–∑ API –∫–ª–∏–µ–Ω—Ç–∞
    apiClient.clearAuthToken();
  };

  const value: AuthContextType = {
    user,
    token,
    login,
    register,
    registerAdmin,
    logout,
    isLoading,
    isAuthenticated: !!user && !!token,
    isAdmin: user?.role === 'ADMIN',
  };
  
  // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  console.log('üîç AuthContext Debug:', {
    user,
    token: token ? token.substring(0, 20) + '...' : null,
    isAuthenticated: !!user && !!token,
    isAdmin: user?.role === 'ADMIN',
    userRole: user?.role
  });

  return (
    <AuthContext.Provider value={value}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = (): AuthContextType => {
  const context = useContext(AuthContext);
  if (context === undefined) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};
```

Context –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ö—É–∫ `useAuth()` –≤ –ª—é–±–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:

```20:20:pages/index.tsx
  const { isAuthenticated, user, isLoading, isAdmin } = useAuth();
```

#### 9. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–∏—Å–∫–æ–≤ –∏ —Å–æ–±—ã—Ç–∏–π

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–∏—Å–∫–æ–≤:**
–ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ `map()`:

```165:228:pages/cars/simple.tsx
            ) : (
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {cars.map((car) => (
                  <Card key={car.id} className="hover:shadow-md transition-shadow">
                    <CardBody>
                      <div className="flex items-start justify-between mb-4">
                        <div className="flex items-center space-x-3">
                          <div className="p-2 bg-primary-100 rounded-lg">
                            <span className="text-2xl">üöó</span>
                          </div>
                          <div>
                            <h3 className="text-lg font-semibold text-gray-900">
                              {car.brand} {car.model}
                            </h3>
                            <p className="text-sm text-gray-500">
                              {car.registrationNumber}
                            </p>
                          </div>
                        </div>
                        {isAdmin && (
                          <div className="flex space-x-2">
                            <Button
                              variant="outline"
                              size="sm"
                              onClick={() => setEditingCar(car)}
                            >
                              ‚úèÔ∏è
                            </Button>
                            <Button
                              variant="danger"
                              size="sm"
                              onClick={() => setDeletingCar(car)}
                            >
                              üóëÔ∏è
                            </Button>
                          </div>
                        )}
                      </div>

                      <div className="space-y-2 mb-4">
                        <div className="flex items-center justify-between">
                          <span className="text-sm text-gray-600">–ì–æ–¥:</span>
                          <span className="text-sm font-medium">{car.modelYear}</span>
                        </div>
                        <div className="flex items-center justify-between">
                          <span className="text-sm text-gray-600">–¶–µ–Ω–∞:</span>
                          <span className="text-sm font-semibold text-primary-600">
                            {formatPrice(car.price)}
                          </span>
                        </div>
                        <div className="flex items-center justify-between">
                          <span className="text-sm text-gray-600">–¶–≤–µ—Ç:</span>
                          <span className="text-sm font-medium">{car.color}</span>
                        </div>
                        <div className="flex items-center justify-between">
                          <span className="text-sm text-gray-600">–í–ª–∞–¥–µ–ª–µ—Ü:</span>
                          <span className="text-sm font-medium">
                            {car.owner || '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω'}
                          </span>
                        </div>
                      </div>
                    </CardBody>
                  </Card>
                ))}
              </div>
            )}
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π onClick:**
–ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π:

```37:42:components/auth/LoginForm.tsx
  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };
```

```20:35:components/auth/LoginForm.tsx
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError(null);

    if (!formData.username || !formData.password) {
      setError('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
      return;
    }

    const success = await login(formData.username, formData.password);
    if (success) {
      onSuccess?.();
    } else {
      setError('–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å');
    }
  };
```

#### 10. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—è–º–∏

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `CarForm`, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞:

```89:216:components/cars/CarForm.tsx
  return (
    <Modal
      isOpen={isOpen}
      onClose={handleClose}
      title={isEdit ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å' : '–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å'}
      size="lg"
    >
      <form onSubmit={handleSubmit(handleFormSubmit)} className="space-y-6">
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
          <Input
            label="–ú–∞—Ä–∫–∞"
            placeholder="–í–≤–µ–¥–∏—Ç–µ –º–∞—Ä–∫—É –∞–≤—Ç–æ–º–æ–±–∏–ª—è"
            leftIcon={<span className="text-sm">üöó</span>}
            {...register('brand', { 
              required: '–ú–∞—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞',
              minLength: { value: 1, message: '–ú–∏–Ω–∏–º—É–º 1 —Å–∏–º–≤–æ–ª' },
              maxLength: { value: 100, message: '–ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤' }
            })}
            error={errors.brand?.message}
          />

          <Input
            label="–ú–æ–¥–µ–ª—å"
            placeholder="–í–≤–µ–¥–∏—Ç–µ –º–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è"
            leftIcon={<span className="text-sm">üöó</span>}
            {...register('model', { 
              required: '–ú–æ–¥–µ–ª—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞',
              minLength: { value: 1, message: '–ú–∏–Ω–∏–º—É–º 1 —Å–∏–º–≤–æ–ª' },
              maxLength: { value: 100, message: '–ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤' }
            })}
            error={errors.model?.message}
          />

          <Input
            label="–¶–≤–µ—Ç"
            placeholder="–í–≤–µ–¥–∏—Ç–µ —Ü–≤–µ—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—è"
            leftIcon={<span className="text-sm">üé®</span>}
            {...register('color', { 
              required: '–¶–≤–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω',
              minLength: { value: 1, message: '–ú–∏–Ω–∏–º—É–º 1 —Å–∏–º–≤–æ–ª' },
              maxLength: { value: 40, message: '–ú–∞–∫—Å–∏–º—É–º 40 —Å–∏–º–≤–æ–ª–æ–≤' }
            })}
            error={errors.color?.message}
          />

          <Input
            label="–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä"
            placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä"
            leftIcon={<span className="text-sm">üî¢</span>}
            {...register('registrationNumber', { 
              required: '–ù–æ–º–µ—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω',
              minLength: { value: 1, message: '–ú–∏–Ω–∏–º—É–º 1 —Å–∏–º–≤–æ–ª' },
              maxLength: { value: 40, message: '–ú–∞–∫—Å–∏–º—É–º 40 —Å–∏–º–≤–æ–ª–æ–≤' }
            })}
            error={errors.registrationNumber?.message}
          />

          <Input
            label="–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞"
            type="number"
            placeholder="–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞"
            leftIcon={<span className="text-sm">üìÖ</span>}
            {...register('modelYear', { 
              required: '–ì–æ–¥ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω',
              min: { value: 1900, message: '–ú–∏–Ω–∏–º—É–º 1900 –≥–æ–¥' },
              max: { value: 2030, message: '–ú–∞–∫—Å–∏–º—É–º 2030 –≥–æ–¥' }
            })}
            error={errors.modelYear?.message}
          />

          <Input
            label="–¶–µ–Ω–∞ (—Ç–µ–Ω–≥–µ)"
            type="number"
            placeholder="–¶–µ–Ω–∞ –≤ —Ç–µ–Ω–≥–µ"
            leftIcon={<span className="text-sm">üí∞</span>}
            {...register('price', { 
              required: '–¶–µ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞',
              min: { value: 0, message: '–¶–µ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π' },
              valueAsNumber: true
            })}
            error={errors.price?.message}
          />
        </div>

        <div>
          <label className="block text-sm font-medium text-gray-700 mb-1">
            –í–ª–∞–¥–µ–ª–µ—Ü
          </label>
          <select
            className="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"
            {...register('owner_id', { 
              required: '–í–ª–∞–¥–µ–ª–µ—Ü –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω',
              valueAsNumber: true
            })}
          >
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞</option>
            {owners.map((owner) => (
              <option key={owner.ownerid} value={owner.ownerid}>
                {owner.firstname} {owner.lastname}
              </option>
            ))}
          </select>
          {errors.owner_id && (
            <p className="mt-1 text-sm text-red-600">{errors.owner_id.message}</p>
          )}
        </div>

        <div className="flex justify-end space-x-3 pt-4">
          <Button
            type="button"
            variant="outline"
            onClick={handleClose}
            disabled={isSubmitting}
          >
            –û—Ç–º–µ–Ω–∞
          </Button>
          <Button
            type="submit"
            loading={isSubmitting}
            disabled={loading}
          >
            {isEdit ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å' : '–î–æ–±–∞–≤–∏—Ç—å'}
          </Button>
        </div>
      </form>
    </Modal>
  );
```

–§–æ—Ä–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `react-hook-form` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:

```29:45:components/cars/CarForm.tsx
  const {
    register,
    handleSubmit,
    reset,
    formState: { errors },
  } = useForm<CarCreate>({
    defaultValues: {
      brand: '',
      model: '',
      color: '',
      registrationNumber: '',
      modelYear: new Date().getFullYear(),
      price: 0,
      owner_id: owners[0]?.ownerid || 0,
    },
    mode: 'onChange',
  });
```

–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã:

```71:82:components/cars/CarForm.tsx
  const handleFormSubmit = async (data: CarCreate) => {
    setIsSubmitting(true);
    try {
      await onSubmit(data);
      onClose();
      reset();
    } catch (error) {
      console.error('Error submitting form:', error);
    } finally {
      setIsSubmitting(false);
    }
  };
```

---

## –í—ã–≤–æ–¥—ã

### –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ6
- ‚úÖ –£—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å Node.js –∏ npm
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø—Ä–æ–µ–∫—Ç –Ω–∞ –±–∞–∑–µ Next.js (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ React)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ Hot Reload –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã React Developer Tools –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ7
- ‚úÖ –û—Å–≤–æ–µ–Ω—ã –æ—Å–Ω–æ–≤—ã React: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, JSX, props, —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚úÖ –ò–∑—É—á–µ–Ω—ã –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ES6: —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è, —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —á–µ—Ä–µ–∑ `useState`
- ‚úÖ –û—Å–≤–æ–µ–Ω—ã —Ö—É–∫–∏: `useState`, `useEffect`, —Å–æ–∑–¥–∞–Ω –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ `usePersistedState`
- ‚úÖ –ò–∑—É—á–µ–Ω Context API –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (AuthContext)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–∏—Å–∫–æ–≤ –∏ —Å–æ–±—ã—Ç–∏–π (onClick, onSubmit)
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ñ–æ—Ä–º—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—è–º–∏ –≤–≤–æ–¥–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

–í—Å–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ React —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –æ–±–µ–∏—Ö –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–±–æ—Ç.








